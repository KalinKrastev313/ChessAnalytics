{% load filters_collection %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FEN Reader</title>
    {% csrf_token %}
    <link rel="stylesheet" href="/static/css/board-styles.css">
    <script type="text/javascript" src="/static/scripts/board-drag-script.js"></script>

</head>
<body>
<header></header>
<main>
{{ squares }}
    <div class="board">
        {% for square_data in squares_data %}
            <div class="{{ square_data.color }}">
                {% if square_data.occupied_by %}
                    <img src="{{ square_data.occupied_by }}">
                {% endif %}
            </div>
        {% endfor %}
        {#        Old help code code bellow if you need to refactor the squares of the template when using squares dict instead of squares data#}
        {#for row in range(8):#}
        {#    for col in range(1, 9, 1):#}
        {#        square = f"{chr(96 + col)}{8 - row}"#}
        {#        print(f'<div id={square} class="{{{{ squares.{square}.color }}}}" ondrop="drop(event)" ondragover="allowDrop(event)">'#}
        {#              f'\n{{% if squarOes.{square}.occupied_by %}}'#}
        {#              f'\n<img id=piece_at{square} src="{{{{ squares.{square}.occupied_by }}}}" draggable="true" ondragstart="drag(event)">'#}
        {#              f'\n{{% endif %}}'#}
        {#              f'\n</div>')#}



    </div>

</main>

</body>
</html>